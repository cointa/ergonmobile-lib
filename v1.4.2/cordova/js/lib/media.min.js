app.media={},app.media.getCameraPath=e=>("Android"===device.platform&&"file:///"!=e.substring(0,8)&&(e="file://"+e),e),app.media.getCapturePath=e=>{let a=e.fullPath;return"iOS"===device.platform&&(a="file://"+e.fullPath),a},app.media.getImage=(e,a)=>{let i={quality:app.config.image.quality,destinationType:Camera.DestinationType.FILE_URI,sourceType:"camera"===app.config.image.source?Camera.PictureSourceType.CAMERA:"gallery"===app.config.image.source?Camera.PictureSourceType.PHOTOLIBRARY:"",targetWidth:app.config.image.pxlimit,targetHeight:app.config.image.pxlimit,encodingType:"jpeg"===app.config.image.type?Camera.EncodingType.JPEG:"png"===app.config.image.type?Camera.EncodingType.PNG:""};navigator.camera.getPicture((a=>e(app.media.getCameraPath(a))),(e=>a(e)),i)},app.media.getVideo=(e,a)=>{if("camera"===app.config.video.source)app.media.videoCapture((a=>e(a)),(e=>a(e)));else if("gallery"===app.config.video.source){let i={quality:100,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.PHOTOLIBRARY,mediaType:Camera.MediaType.VIDEO};navigator.camera.getPicture((a=>e(app.media.getCameraPath(a))),(e=>a(e)),i)}},app.media.videoCapture=(e,a)=>{let i={limit:1,duration:app.config.video.duration};navigator.device.capture.captureVideo((a=>e(app.media.getCapturePath(a[0]))),(e=>a(e)),i)},app.media.getAudio=(e,a)=>{navigator.device.audiorecorder.recordAudio((a=>e("file://"+JSON.parse(a).full_path)),(e=>a(e)),app.config.audio.duration)},app.media.getGallery=(e,a)=>{let i={quality:100,destinationType:Camera.DestinationType.FILE_URI,sourceType:Camera.PictureSourceType.PHOTOLIBRARY,mediaType:Camera.MediaType.ALLMEDIA};navigator.camera.getPicture((a=>e(app.media.getCameraPath(a))),(e=>a(e)),i)};